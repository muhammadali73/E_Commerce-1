<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../detailShareCss/details.css">
  <link rel="stylesheet" href="../detailShareCss/mediadetail.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <script src="https://kit.fontawesome.com/30bec55b03.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.7/css/swiper.min.css" rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
    rel="stylesheet">
  <link rel="icon"
    href="https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2018/12/logo@2x-free-img.png"
    sizes="32x32">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <title>Document</title>
</head>
<style>
  .fa-times{
    position: relative;
    top: -8px;
  }
</style>
<body>
  <div class="off-canvas d-lg-none">
    <i class="fa-solid fa-xmark"></i>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="../login/login.html"><i class="fa-solid fa-user user mb-4"></i></a>
      </li>
    </ul>
    <ul class="off-canvas-nav">
      <li class="nav-item">
        <a class="nav-link marg" href="../every/everything.html">everything</a>
      </li>
      <hr>
      <li class="nav-item">
        <a class="nav-link marg" href="../women/women.html">women</a>
      </li>
      <hr>
      <li class="nav-item">
        <a class="nav-link marg" href="../men/men.html">men</a>
      </li>
      <hr>
      <li class="nav-item">
        <a class="nav-link marg" href="../accessories/accessories.html">accessories</a>
      </li>
      <hr>
      <li class="nav-item">
        <a class="nav-link light marg" href="../about/about.html">about</a>
      </li>
      <hr>
      <li class="nav-item">
        <a class="nav-link light marg" href="../contact/contact.html">contact us</a>
      </li>
    </ul>
  </div>
  <div class="main">
    <div class="overlay">
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
          <a href="../index.html">
            <img height="40" class="logo-mob"
              src="https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2018/12/logo@2x-free-img.png"
              alt=""></a>
          <div class="additional-items">
            <ul class="navbar-nav mob-nav">
              <li class="nav-item">
                <a class="nav-link tp togglers" href="#"><span class="bold me-2 add-amount cart-icon">$<span
                      class="cart-total">0.00</span></span><i class="fa-solid fa-bag-shopping"></i></a>
              </li>
            </ul>
          </div>
          <button class="navbar-toggler bg-dark toggler" type="button">
            <i class="fa-solid fa-bars"></i>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2">
              <li class="nav-item">
                <a class="nav-link" href="../every/everything.html">Everything</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../women/women.html">women</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../men/men.html">men</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../accessories/accessories.html">accessories</a>
              </li>
            </ul>
            <ul class="navbar-nav right-nav">
              <li class="nav-item">
                <a class="nav-link light" href="../about/about.html">about</a>
              </li>
              <li class="nav-item">
                <a class="nav-link light" href="../contact/contact.html">contact us</a>
              </li>
              <li class="nav-item">
                <a class="nav-link tp togglers" href="#"><span class="bold me-2 add-amount cart-icon">$<span
                      class="cart-total">0.00</span></span><i class="fa-solid fa-bag-shopping"></i></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../login/login.html"><i class="fa-solid fa-user"></i></a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <div id="cartCanvas" class="cartClosed">
        <i class="closeIcon fa-solid fa-xmark"></i>
        <h6>Shopping Cart</h6>
        <hr style="color: gray;">
        <div id="cartItems" class="cart-items text-center">
        </div>
        <div class="btn-div"><button class="off-btn"><a href="../every/everything.html" style="color: #fff;">CONTINUE
              SHOPPING</a></button></div>
      </div>
      <section class="section-main">
        <div class="product-img">
          <img src="https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2017/12/product-w-jeans1.jpg"
            alt="">
          <i class="fa-solid fa-magnifying-glass"></i>
        </div>
        <div id="imageModal" class="modal">
          <span class="close">&times;</span>
          <img class="modal-content" id="modalImg">
          <p class="text-center position-relative" style="top: 62px; color: #bbb7b7; font-size: 14px;">
            product-w-jeans1</p>
        </div>

        <div class="product-details">
          <p class="no-hov"><a href="../index.html">Home</a> / <a href="../women/women.html">Women</a> / Basic Gray
            Jeans
          </p>
          <p><a href="../women/women.html">Women</a></p>
          <h2>
            Blue Denim Shorts</h2>
          <h3 style="display: inline-block;">$130.00</h3>
          <p style="display: inline-block;">+ Free Shipping</p>
          <p>Nam nec tellus a odio tincidunt auctor a ornare odio. Sed non mauris vitae erat consequat auctor eu in
            elit. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Mauris in
            erat justo. Nullam ac urna eu felis dapibus condimentum sit amet a augue. Sed non neque elit sed.</p>
          <hr>
          <div class="cart">
            <input type="number" placeholder="1" min="1" max="9" id="quantity" value="1">
            <button id="btnn" style="opacity: 1;">ADD TO CART</button>
          </div>
          <hr>
          <p>SKU:N/A &nbsp;&nbsp;&nbsp; <span style="font-size: 14px; color: rgb(68, 67, 67);"> Categories</span>: <a
              style="font-size: 13px;" href="../women/women.html">Women</a></p>
        </div>
      </section>
      <footer class="section-padding">
        <div class="container-fluid footer-container">
          <h4>SALE UP TO 70% OFF FOR ALL CLOTHES & FASHION ITEMS, ON ALL BRANDS.</h4>
        </div>
        <div class="container-fluid footer-items">
          <div class="foot-1">
            <img height="33" width="90"
              src="https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2018/12/logo@2x-free-img.png"
              alt="">
            <h4 class="text-center">The best look anytime, anywhere.</h4>
          </div>
          <div class="foot-2">
            <h5>For Her</h5>
            <a href="">Women Jeans</a>
            <a href="">Tops and Shirts</a>
            <a href="">Women Jackets</a>
            <a href="">Heels and Flats</a>
            <a href="">Women Accessories</a>
          </div>
          <div class="foot-3">
            <h5>For Him</h5>
            <a href="">Men Jeans</a>
            <a href="">Tops and Shirts</a>
            <a href="">Men Jackets</a>
            <a href="">Shoes</a>
            <a href="">Men Accessories</a>
          </div>
          <div class="foot-4">
            <h5>Subscribe</h5>
            <form action="" id="subscribeForm">
              <input type="email" placeholder="Your email address." required id="email">
              <button class="btn btn-primary" id="submit">SUBSCRIBE</button>
            </form>
          </div>
        </div>
      </footer>
    </div>
    <script src="../ShareJs/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"
      integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
    const quantityInput = document.getElementById('quantity');
    const cartBtn = document.getElementById('btnn');
    const cartTotalElems = document.querySelectorAll('.cart-total');
    const productImg = document.querySelector('.product-img img');
    const canvas = document.getElementById('cartCanvas');
    const togglers = document.querySelectorAll('.togglers');
    const cartItemsContainer = document.getElementById('cartItems');
    const continueShoppingBtn = document.querySelector('.off-btn');
    const productName = "Blue Denim Shorts";
    const productPrice = 130.00;

    togglers.forEach(toggler => {
        toggler.addEventListener('click', function () {
            canvas.classList.add('cartOpen');
            canvas.classList.remove('cartClosed');
            updateCartItemsUI();
        });
    });

    document.querySelector('.closeIcon').addEventListener('click', function () {
        canvas.classList.add('cartClosed');
        canvas.classList.remove('cartOpen');
    });

    let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

    function addToCart() {
        const quantity = parseInt(quantityInput.value);
        if (!isNaN(quantity) && quantity > 0) {
            const existingItemIndex = cartItems.findIndex(item => item.name === productName);

            if (existingItemIndex > -1) {
                cartItems[existingItemIndex].quantity += quantity;
            } else {
                const item = {
                    name: productName,
                    quantity: quantity,
                    price: productPrice
                };
                cartItems.push(item);
            }

            localStorage.setItem('cartItems', JSON.stringify(cartItems));
            updateCartItemsUI();
            updateNavbarTotal();

            document.body.classList.add('fade-out');
            setTimeout(() => {
                document.body.classList.remove('fade-out');
            }, 500);
        }
    }

    cartBtn.addEventListener('click', addToCart);

    function updateCartItemsUI() {
        cartItemsContainer.innerHTML = '';

        cartItems.forEach((item, index) => {
            const cartItem = document.createElement('div');
            cartItem.className = 'cart-item';
            cartItem.innerHTML = `
                <p>${item.name} - Quantity: ${item.quantity} - Price: $${item.price * item.quantity}</p>
                <div class="remove-btn" data-index="${index}"><i class="fa-solid fa-times"></i></div>
            `;
            cartItemsContainer.appendChild(cartItem);
        });

        const removeButtons = document.querySelectorAll('.remove-btn');
        removeButtons.forEach(button => {
            button.addEventListener('click', function () {
                const index = this.getAttribute('data-index');
                cartItems.splice(index, 1);
                localStorage.setItem('cartItems', JSON.stringify(cartItems));
                updateCartItemsUI();
                updateNavbarTotal();
            });
        });

        updateNavbarTotal();
    }

    function updateNavbarTotal() {
        let total = 0;
        cartItems.forEach(item => {
            total += item.price * item.quantity;
        });

        cartTotalElems.forEach(elem => {
            elem.textContent = `${total.toFixed(2)}`;
        });
    }
        productImg.addEventListener('mousemove', function (e) {
          const rect = productImg.getBoundingClientRect();
          const centerX = rect.left + rect.width / 2;
          const centerY = rect.top + rect.height / 2;
          const moveX = e.clientX - centerX;
          const moveY = e.clientY - centerY;
          const maxMovement = 50;
          const translationX = (moveX / centerX) * maxMovement * -1;
          const translationY = (moveY / centerY) * maxMovement * -1;
          productImg.style.transform = `scale(1.5) translate(${translationX}px, ${translationY}px)`;
        });

        productImg.addEventListener('mouseleave', function () {
          productImg.style.transform = 'scale(1) translate(0, 0)';
        });

        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImg');
        const magnifyingGlass = document.querySelector('.fa-magnifying-glass');
        const closeModal = document.querySelector('.close');

        magnifyingGlass.addEventListener('click', function () {
          modal.style.display = 'block';
          modalImg.src = productImg.src;
        });

        closeModal.addEventListener('click', function () {
          modal.style.display = 'none';
        });

        window.addEventListener('click', function (e) {
          if (e.target == modal) {
            modal.style.display = 'none';
          }
        });

        modalImg.addEventListener('click', function (e) {
          const rect = modalImg.getBoundingClientRect();
          const offsetX = e.clientX - rect.left;
          const offsetY = e.clientY - rect.top;

          if (modalImg.style.transform === 'scale(2)') {
            modalImg.style.transform = 'scale(1)';
            modal.style.overflow = 'hidden';
            modalImg.style.cursor = "zoom-in";
          } else {
            modalImg.style.transform = 'scale(2)';
            modalImg.style.transformOrigin = `${(offsetX / rect.width) * 100}% ${(offsetY / rect.height) * 100}%`;
            modalImg.style.cursor = "zoom-out";
          }
        });
        updateCartItemsUI();
        updateNavbarTotal();
      });
    </script>
</body>

</html>