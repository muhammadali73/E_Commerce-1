<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../detailShareCss/details.css">
  <link rel="stylesheet" href="../detailShareCss/mediadetail.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <script src="https://kit.fontawesome.com/30bec55b03.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.7/css/swiper.min.css" rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
    rel="stylesheet">
  <link rel="icon"
    href="https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2018/12/logo@2x-free-img.png"
    sizes="32x32">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <title>Document</title>
</head>
<style>
    #orange{
        color: #F49922;
    }
    #blue{
        color: #1E73BE;
    }
    #purple{
        color: #CE25E8;
    }
    #red{
        color: #CE592F;
    }
    #orange:hover::after {
    content: 'orange';
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #000;
    color: #fff;
    padding: 2px 5px;
    border-radius: 3px;
    white-space: nowrap;
    font-size: 11px;
    border-radius: 5px;
}
#blue:hover::after {
    content: 'blue';
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #000;
    color: #fff;
    padding: 2px 5px;
    border-radius: 3px;
    white-space: nowrap;
    font-size: 11px;
    border-radius: 5px;
}

#purple:hover::after {
    content: 'purple';
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #000;
    color: #fff;
    padding: 2px 5px;
    border-radius: 3px;
    white-space: nowrap;
    font-size: 11px;
    border-radius: 5px;
}

#red:hover::after {
    content: 'red';
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #000;
    color: #fff;
    padding: 2px 5px;
    border-radius: 3px;
    white-space: nowrap;
    font-size: 11px;
    border-radius: 5px;
    }
</style>
<body>
  <div class="off-canvas d-lg-none">
    <i class="fa-solid fa-xmark"></i>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="../login/login.html"><i class="fa-solid fa-user user mb-4"></i></a>
      </li>
    </ul>
    <ul class="off-canvas-nav">
      <li class="nav-item">
        <a class="nav-link marg" href="../every/everything.html">everything</a>
      </li>
      <hr>
      <li class="nav-item">
        <a class="nav-link marg" href="../women/women.html">women</a>
      </li>
      <hr>
      <li class="nav-item">
        <a class="nav-link marg" href="../men/men.html">men</a>
      </li>
      <hr>
      <li class="nav-item">
        <a class="nav-link marg" href="../accessories/accessories.html">accessories</a>
      </li>
      <hr>
      <li class="nav-item">
        <a class="nav-link light marg" href="../about/about.html">about</a>
      </li>
      <hr>
      <li class="nav-item">
        <a class="nav-link light marg" href="../contact/contact.html">contact us</a>
      </li>
    </ul>
  </div>
  <div class="main">
    <div class="overlay">
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
          <a href="../index.html">
            <img height="40" class="logo-mob"
              src="https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2018/12/logo@2x-free-img.png"
              alt=""></a>
          <div class="additional-items">
            <ul class="navbar-nav mob-nav">
              <li class="nav-item">
                <a class="nav-link tp togglers" href="#"><span class="bold me-2 add-amount cart-icon">$<span
                      class="cart-total">0.00</span></span><i class="fa-solid fa-bag-shopping"></i></a>
              </li>
            </ul>
          </div>
          <button class="navbar-toggler bg-dark toggler" type="button">
            <i class="fa-solid fa-bars"></i>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2">
              <li class="nav-item">
                <a class="nav-link" href="../every/everything.html">Everything</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../women/women.html">women</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../men/men.html">men</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../accessories/accessories.html">accessories</a>
              </li>
            </ul>
            <ul class="navbar-nav right-nav">
              <li class="nav-item">
                <a class="nav-link light" href="../about/about.html">about</a>
              </li>
              <li class="nav-item">
                <a class="nav-link light" href="../contact/contact.html">contact us</a>
              </li>
              <li class="nav-item">
                <a class="nav-link tp togglers" href="#"><span class="bold me-2 add-amount cart-icon">$<span
                      class="cart-total">0.00</span></span><i class="fa-solid fa-bag-shopping"></i></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../login/login.html"><i class="fa-solid fa-user"></i></a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <div id="cartCanvas" class="cartClosed">
        <i class="closeIcon fa-solid fa-xmark"></i>
        <h6>Shopping Cart</h6>
        <hr style="color: gray;">
        <div id="cartItems" class="cart-items text-center">
          <!-- Cart items will be dynamically added here -->
        </div>
        <div class="btn-div"><button class="off-btn"><a href="../every/everything.html" style="color: #fff;">CONTINUE
              SHOPPING</a></button></div>
      </div>
      <section class="section-main">
        <div class="product-img">
          <img src="https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2022/08/product-bag3-c.jpg"
            alt="">
          <i class="fa-solid fa-magnifying-glass"></i>
        </div>
        <div id="imageModal" class="modal">
          <span class="close">&times;</span>
          <img class="modal-content" id="modalImg">
          <p class="text-center position-relative" style="top: 62px; color: #bbb7b7; font-size: 14px;">
            product-tshirt2</p>
        </div>

        <div class="product-details">
          <p class="no-hov"><a href="../index.html">Home</a> / <a href="../women/women.html">Women</a> / Blue T-Shirt
          </p>
          <p></p>
          <h2>
            Blue T-Shirt</h2>
          <h3 style="display: inline-block;">$100.00 â€“ $140.00 </h3>
          <p style="display: inline-block;">+ Free Shipping</p>
          <p>Nam nec tellus a odio tincidunt auctor a ornare odio. Sed non mauris vitae erat consequat auctor eu in
            elit. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Mauris in
            erat justo. Nullam ac urna eu felis dapibus condimentum sit amet a augue. Sed non neque elit sed.</p>
          <div class="circle-container">
              <i class="fa-solid fa-circle" id="blue" onclick="selectColor( 100, 'blue')"></i>
            <i class="fa-solid fa-circle" id="orange" onclick="selectColor(110, 'Aqua')"></i>
            <i class="fa-solid fa-circle" id="purple" onclick="selectColor(130, 'red')"></i>
            <i class="fa-solid fa-circle" id="red" onclick="selectColor(140, 'red')"></i>
          </div>
          <p id="clear-color" onclick="clearBtn()">CLEAR</p>
          <hr>
          <div id="total-price"></div>
          <div class="cart">
            <input type="number" placeholder="1" min="1" max="8" id="quantity" value="1">
            <button class="disable" id="btnn" disabled>ADD TO CART</button>
          </div>
          <hr>
          <p>SKU:N/A &nbsp;&nbsp;&nbsp; <span style="font-size: 14px; color: rgb(68, 67, 67);"> Categories</span>: <a
            style="font-size: 13px;" href="../accessories/accessories.html">Accessories</a><a
              style="font-size: 13px;" href="../women/women.html">, Women</a></p>
        </div>
      </section>
      <footer class="section-padding">
        <div class="container-fluid footer-container">
          <h4>SALE UP TO 70% OFF FOR ALL CLOTHES & FASHION ITEMS, ON ALL BRANDS.</h4>
        </div>
        <div class="container-fluid footer-items">
          <div class="foot-1">
            <img height="33" width="90"
              src="https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2018/12/logo@2x-free-img.png"
              alt="">
            <h4 class="text-center">The best look anytime, anywhere.</h4>
          </div>
          <div class="foot-2">
            <h5>For Her</h5>
            <a href="">Women Jeans</a>
            <a href="">Tops and Shirts</a>
            <a href="">Women Jackets</a>
            <a href="">Heels and Flats</a>
            <a href="">Women Accessories</a>
          </div>
          <div class="foot-3">
            <h5>For Him</h5>
            <a href="">Men Jeans</a>
            <a href="">Tops and Shirts</a>
            <a href="">Men Jackets</a>
            <a href="">Shoes</a>
            <a href="">Men Accessories</a>
          </div>
          <div class="foot-4">
            <h5>Subscribe</h5>
            <form action="" id="subscribeForm">
              <input type="email" placeholder="Your email address." required id="email">
              <button class="btn btn-primary" id="submit">SUBSCRIBE</button>
            </form>
          </div>
        </div>
      </footer>
    </div>
    <script src="../ShareJs/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"
      integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
      <script>
        document.addEventListener('DOMContentLoaded', function () {
            const total = document.getElementById('total-price');
            const blueBtn = document.getElementById('blue');
            const orangeBtn = document.getElementById('orange');
            const purpleBtn = document.getElementById('purple');
            const redBtn = document.getElementById('red');
            const quantityInput = document.getElementById('quantity');
            const cartBtn = document.getElementById('btnn');
            const cartTotalElems = document.querySelectorAll('.cart-total');
            const productImg = document.querySelector('.product-img img');
            const clearColor = document.getElementById('clear-color');
            const canvas = document.getElementById('cartCanvas');
            const togglers = document.querySelectorAll('.togglers');
            const cartItemsContainer = document.getElementById('cartItems');
            const continueShoppingBtn = document.querySelector('.off-btn');
            const productName = "Blue T-Shirt"
        
            togglers.forEach(toggler => {
                toggler.addEventListener('click', function () {
                    canvas.classList.add('cartOpen');
                    canvas.classList.remove('cartClosed');
                    updateCartItemsUI();  // Update cart UI when opening the cart
                });
            });
        
            document.querySelector('.closeIcon').addEventListener('click', function () {
                canvas.classList.add('cartClosed');
                canvas.classList.remove('cartOpen');
            });
        
            let selectedPrice = 0;
            let selectedColor = ''; // Track selected color
            let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            const colorPrices = {
                orange: 110.00,
                blue: 100.00,
                purple: 130.00,
                red: 140.00
            };
        
            const colorImages = {
                blue: 'https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2022/08/product-bag3-d.jpg',
                orange: 'https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2022/08/product-bag3-c.jpg',
                purple: 'https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2022/08/product-bag3-b.jpg',
                red: 'https://websitedemos.net/brandstore-02/wp-content/uploads/sites/150/2017/12/product-bag3.jpg'
            };
        
            function updateTotal() {
                const quantity = parseInt(quantityInput.value);
                if (!isNaN(quantity) && quantity > 0 && selectedPrice > 0) {
                    const totalPrice = quantity * selectedPrice;
                    total.innerHTML = `<h4>$${totalPrice.toFixed(2)}</h4>`;
                    total.style.display = 'block';
                    cartBtn.classList.remove('disable');
                    cartBtn.disabled = false;
                    cartBtn.style.opacity = 1;
                    clearColor.style.display = "block";
                } else {
                    total.innerHTML = '';
                    cartBtn.classList.add('disable');
                    cartBtn.disabled = true;
                    cartBtn.style.opacity = 0.5;
                }
            }
        
            function clearBtn() {
                clearColor.style.display = "none";
                orangeBtn.style.border = "none";
                blueBtn.style.border = "none";
                purpleBtn.style.border = "none";
                redBtn.style.border = "none";
                total.style.display = 'none';
                cartBtn.classList.add('disable');
                cartBtn.disabled = true;
                cartBtn.style.opacity = 0.5; // Set opacity to 0.5 when button is disabled
                selectedColor = ''; // Clear selected color
                selectedPrice = 0; // Clear selected price
            }
        
            clearColor.addEventListener('click', clearBtn);
        
            function selectColor(price, color) {
                selectedPrice = price;
                selectedColor = color; // Update selected color
                orangeBtn.style.border = '';
                blueBtn.style.border = '';
                purpleBtn.style.border = '';
                redBtn.style.border = '';
                document.getElementById(color).style.border = '1px solid black';
                productImg.src = colorImages[color];
                updateTotal();
            }
        
            orangeBtn.addEventListener('click', function () {
                selectColor(110.00, 'orange');
            });
        
            blueBtn.addEventListener('click', function () {
                selectColor(100.00, 'blue');
            });

            purpleBtn.addEventListener('click', function () {
                selectColor(130.00, 'purple');
            });
        
            redBtn.addEventListener('click', function () {
                selectColor(140.00, 'red');
            });
        
            quantityInput.addEventListener('input', updateTotal);
        
            function addToCart() {
                const quantity = parseInt(quantityInput.value);
                if (!isNaN(quantity) && quantity > 0 && selectedPrice > 0 && selectedColor) {
                    const existingItem = cartItems.find(item => item.color === selectedColor);
                    if (existingItem) {
                        existingItem.quantity += quantity;
                    } else {
                        const item = {
                            quantity: quantity,
                            price: selectedPrice,
                            color: selectedColor,
                            name: productName
                        };
                        cartItems.push(item);
                    }
                    localStorage.setItem('cartItems', JSON.stringify(cartItems));
                    updateCartItemsUI();
                    updateCartTotal();
                    document.body.classList.add('fade-out'); // Add the fade-out class to the body
                    setTimeout(() => {
                        location.reload(); // Reload the page after the transition
                    }, 500); // Match this duration with the CSS transition duration
                }
            }
        
            // Make removeCartItem function available globally
            window.removeCartItem = function (index) {
                cartItems.splice(index, 1);
                localStorage.setItem('cartItems', JSON.stringify(cartItems));
                updateCartItemsUI();
                updateCartTotal();
            }
        
            function updateCartItemsUI() {
                cartItemsContainer.innerHTML = '';
                if (cartItems.length === 0) {
                    cartItemsContainer.innerHTML = '<p>No products in the cart</p>';
                } else {
                    cartItems.forEach((item, index) => {
                        const itemHTML = `
                            <div class="cart-item">
                              <span>${item.name}</span>
                                <span>${item.color}</span>
                                <span>${item.quantity}  &nbsp;x</span>
                                <span>$${(item.quantity * item.price).toFixed(2)}</span>
                                <button class="remove-btn" onclick="removeCartItem(${index})"><i class="fas fa-times"></i></button>
                            </div>
                        `;
                        cartItemsContainer.innerHTML += itemHTML;
                    });
                }
            }
        
            function updateCartTotal() {
                const cartTotal = cartItems.reduce((total, item) => total + (item.quantity * item.price), 0);
                localStorage.setItem('cartTotal', cartTotal.toFixed(2));
                cartTotalElems.forEach(elem => elem.textContent = cartTotal.toFixed(2));
            }
        
            cartBtn.addEventListener('click', function (event) {
                event.preventDefault();
                quantityInput.value = 1;
                addToCart();
            });
        
            productImg.addEventListener('mousemove', function (e) {
                const rect = productImg.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                const moveX = e.clientX - centerX;
                const moveY = e.clientY - centerY;
                const maxMovement = 50;
                const translationX = (moveX / centerX) * maxMovement * -1;
                const translationY = (moveY / centerY) * maxMovement * -1;
                productImg.style.transform = `scale(1.5) translate(${translationX}px, ${translationY}px)`;
            });
        
            productImg.addEventListener('mouseleave', function () {
                productImg.style.transform = 'scale(1) translate(0, 0)';
            });
        
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImg');
            const magnifyingGlass = document.querySelector('.fa-magnifying-glass');
            const closeModal = document.querySelector('.close');
        
            magnifyingGlass.addEventListener('click', function () {
                modal.style.display = 'block';
                modalImg.src = productImg.src;
            });
        
            closeModal.addEventListener('click', function () {
                modal.style.display = 'none';
            });
        
            window.addEventListener('click', function (e) {
                if (e.target == modal) {
                    modal.style.display = 'none';
                }
            });
        
            modalImg.addEventListener('click', function (e) {
                const rect = modalImg.getBoundingClientRect();
                const offsetX = e.clientX - rect.left;
                const offsetY = e.clientY - rect.top;
        
                if (modalImg.style.transform === 'scale(2)') {
                    modalImg.style.transform = 'scale(1)';
                    modal.style.overflow = 'hidden';
                    modalImg.style.cursor = "zoom-in";
                } else {
                    modalImg.style.transform = 'scale(2)';
                    modal.style.overflow = 'hidden';
                    modalImg.style.transformOrigin = `${(offsetX / rect.width) * 100}% ${(offsetY / rect.height) * 100}%`;
                    modalImg.style.cursor = "zoom-out";
                }
            });
        
            window.addEventListener('beforeunload', function () {
                document.body.classList.add('fade-out');
            });
        
            updateCartItemsUI();
            updateCartTotal();
        });
        </script>        
</body>

</html>